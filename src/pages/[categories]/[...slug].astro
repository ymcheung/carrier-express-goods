---
import { getCollection } from 'astro:content';
import Layout from '@layouts/Slug.astro';

export async function getStaticPaths() {
  const tidyEntries = await getCollection('tidy');
  const utensilsEntries = await getCollection('utensils');
  const cleanEntries = await getCollection('clean');
  const decorationEntries = await getCollection('decoration');
  const outdoorEntries = await getCollection('outdoor');
  const stationaryEntries = await getCollection('stationary');

  return [
    ...tidyEntries,
    ...utensilsEntries,
    ...cleanEntries,
    ...decorationEntries,
    ...outdoorEntries,
    ...stationaryEntries
  ].map((entry) => {
    return {
      params: { categories: entry.collection, slug: entry.slug },
      props: { entry }
    };
  });
}

const { entry } = Astro.props;
const {
  data: { title, description, dateModified, datePublished }
} = entry;
const { Content } = await entry.render();
---

<Layout
  title={title}
  description={description}
  dateModified={dateModified}
  datePublished={datePublished}
>
  <Content />
</Layout>
